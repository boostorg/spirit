<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>symbols</title>
<link rel="stylesheet" href="../../../../../../../../doc/html/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.0">
<link rel="home" href="../../../../index.html" title="Spirit 2.1">
<link rel="up" href="../string.html" title="String">
<link rel="prev" href="lit_string.html" title="lit/string">
<link rel="next" href="../../../karma.html" title="Karma - Writing Generators">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../../../libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="lit_string.html"><img src="../../../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../string.html"><img src="../../../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../../../index.html"><img src="../../../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="../../../karma.html"><img src="../../../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="section" title="symbols">
<div class="titlepage"><div><div><h5 class="title">
<a name="spirit.qi.reference.string.symbols"></a><a class="link" href="symbols.html" title="symbols">symbols</a>
</h5></div></div></div>
<a name="spirit.qi.reference.string.symbols.description"></a><h6>
<a name="id1177109"></a>
            <a class="link" href="symbols.html#spirit.qi.reference.string.symbols.description">Description</a>
          </h6>
<p>
            This class <code class="computeroutput"><span class="identifier">symbols</span></code> implements
            a symbol table: an associative container (or map) of key-value pairs
            where the keys are strings. The <code class="computeroutput"><span class="identifier">symbols</span></code>
            class can work efficiently with 8, 16, 32 and even 64 bit characters.
          </p>
<p>
            Traditionally, symbol table management is maintained seperately outside
            the grammar through semantic actions. Contrary to standard practice,
            the Spirit symbol table class symbols is-a parser. An instance of which
            may be used anywhere in the grammar specification. It is an example of
            a dynamic parser. A dynamic parser is characterized by its ability to
            modify its behavior at run time. Initially, an empty symbols object matches
            nothing. At any time, symbols may be added, thus, dynamically altering
            its behavior.
          </p>
<a name="spirit.qi.reference.string.symbols.header"></a><h6>
<a name="id1177143"></a>
            <a class="link" href="symbols.html#spirit.qi.reference.string.symbols.header">Header</a>
          </h6>
<pre class="programlisting"><span class="comment">// forwards to &lt;boost/spirit/home/qi/string/symbols.hpp&gt;
</span><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">spirit</span><span class="special">/</span><span class="identifier">include</span><span class="special">/</span><span class="identifier">qi_symbols</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
</pre>
<p>
            Also, see <a class="link" href="../../../structure/include.html" title="Include">Include Structure</a>.
          </p>
<a name="spirit.qi.reference.string.symbols.synopsis"></a><h6>
<a name="id1177218"></a>
            <a class="link" href="symbols.html#spirit.qi.reference.string.symbols.synopsis">Synopsis</a>
          </h6>
<pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">Char</span><span class="special">,</span> <span class="keyword">typename</span> <span class="identifier">T</span><span class="special">&gt;</span>
<span class="keyword">struct</span> <span class="identifier">symbols</span><span class="special">;</span>
</pre>
<a name="spirit.qi.reference.string.symbols.template_parameters"></a><h6>
<a name="id1177283"></a>
            <a class="link" href="symbols.html#spirit.qi.reference.string.symbols.template_parameters">Template
            parameters</a>
          </h6>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                  <p>
                    Parameter
                  </p>
                  </th>
<th>
                  <p>
                    Description
                  </p>
                  </th>
<th>
                  <p>
                    Default
                  </p>
                  </th>
</tr></thead>
<tbody>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">Char</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    The character type of the symbol strings.
                  </p>
                  </td>
<td>
                  <p>
                    <code class="computeroutput"><span class="keyword">char</span></code>
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">T</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    The data type associated with each symbol.
                  </p>
                  </td>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">unused_type</span></code>
                  </p>
                  </td>
</tr>
</tbody>
</table></div>
<a name="spirit.qi.reference.string.symbols.model_of"></a><h6>
<a name="id1177410"></a>
            <a class="link" href="symbols.html#spirit.qi.reference.string.symbols.model_of">Model of</a>
          </h6>
<div class="blockquote"><blockquote class="blockquote">
<p>
              </p>
<p>
                <a class="link" href="../parser_concepts/primitiveparser.html" title="PrimitiveParser"><code class="computeroutput"><span class="identifier">PrimitiveParser</span></code></a>
              </p>
<p>
            </p>
</blockquote></div>
<div class="variablelist" title="Notation">
<p class="title"><b>Notation</b></p>
<dl>
<dt><span class="term"><code class="computeroutput"><span class="identifier">Sym</span></code></span></dt>
<dd><p>
                A <code class="computeroutput"><span class="identifier">symbols</span></code> type.
              </p></dd>
<dt><span class="term"><code class="computeroutput"><span class="identifier">Char</span></code></span></dt>
<dd><p>
                A character type.
              </p></dd>
<dt><span class="term"><code class="computeroutput"><span class="identifier">T</span></code></span></dt>
<dd><p>
                A data type.
              </p></dd>
<dt><span class="term"><code class="computeroutput"><span class="identifier">sym</span></code></span></dt>
<dd><p>
                A <code class="computeroutput"><span class="identifier">symbols</span></code> object.
              </p></dd>
<dt><span class="term"><code class="computeroutput"><span class="identifier">sym2</span></code></span></dt>
<dd><p>
                Another <code class="computeroutput"><span class="identifier">symbols</span></code> object.
              </p></dd>
<dt><span class="term"><code class="computeroutput"><span class="identifier">sseq</span></code></span></dt>
<dd><p>
                An <a href="http://www.sgi.com/tech/stl/" target="_top">STL</a> container
                of strings.
              </p></dd>
<dt><span class="term"><code class="computeroutput"><span class="identifier">dseq</span></code></span></dt>
<dd><p>
                An <a href="http://www.sgi.com/tech/stl/" target="_top">STL</a> container
                of data with <code class="computeroutput"><span class="identifier">value_type</span></code>
                <code class="computeroutput"><span class="identifier">T</span></code>.
              </p></dd>
<dt><span class="term"><code class="computeroutput"><span class="identifier">s1</span></code>...<code class="computeroutput"><span class="identifier">sN</span></code></span></dt>
<dd><p>
                A literal string, e.g. "Hello", or a pointer/reference
                to a null-terminated array of characters or a <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">basic_string</span></code>.
              </p></dd>
<dt><span class="term"><code class="computeroutput"><span class="identifier">d1</span></code>...<code class="computeroutput"><span class="identifier">dN</span></code></span></dt>
<dd><p>
                Objects of type <code class="computeroutput"><span class="identifier">T</span></code>.
              </p></dd>
<dt><span class="term"><code class="computeroutput"><span class="identifier">f</span></code></span></dt>
<dd><p>
                A callable function or function object.
              </p></dd>
</dl>
</div>
<a name="spirit.qi.reference.string.symbols.expression_semantics"></a><h6>
<a name="id1177712"></a>
            <a class="link" href="symbols.html#spirit.qi.reference.string.symbols.expression_semantics">Expression
            Semantics</a>
          </h6>
<p>
            Semantics of an expression is defined only where it differs from, or
            is not defined in <a class="link" href="../parser_concepts/primitiveparser.html" title="PrimitiveParser"><code class="computeroutput"><span class="identifier">PrimitiveParser</span></code></a>.
          </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                  <p>
                    Expression
                  </p>
                  </th>
<th>
                  <p>
                    Semantics
                  </p>
                  </th>
</tr></thead>
<tbody>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">Sym</span><span class="special">()</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Construct an empty symbols.
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">Sym</span><span class="special">(</span><span class="identifier">sym</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Copy construct a symbols from <code class="computeroutput"><span class="identifier">sym2</span></code>.
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">Sym</span><span class="special">(</span><span class="identifier">sseq</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Construct symbols from <code class="computeroutput"><span class="identifier">sseq</span></code>.
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">Sym</span><span class="special">(</span><span class="identifier">sseq</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Construct symbols from <code class="computeroutput"><span class="identifier">sseq</span></code>
                    and <code class="computeroutput"><span class="identifier">dseq</span></code>.
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">sym</span> <span class="special">=</span>
                    <span class="identifier">sym</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Assign <code class="computeroutput"><span class="identifier">sym2</span></code> to
                    <code class="computeroutput"><span class="identifier">sym</span></code>.
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">sym</span> <span class="special">=</span>
                    <span class="identifier">s1</span><span class="special">,</span>
                    <span class="identifier">s2</span><span class="special">,...</span>
                    <span class="identifier">sN</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Assigns one or more symbols (<code class="computeroutput"><span class="identifier">s1</span></code>...<code class="computeroutput"><span class="identifier">sN</span></code>) to <code class="computeroutput"><span class="identifier">sym</span></code>.
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">sym</span> <span class="special">+=</span>
                    <span class="identifier">s1</span><span class="special">,</span>
                    <span class="identifier">s2</span><span class="special">,...</span>
                    <span class="identifier">sN</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Adds one or more symbols (<code class="computeroutput"><span class="identifier">s1</span></code>...<code class="computeroutput"><span class="identifier">sN</span></code>) to <code class="computeroutput"><span class="identifier">sym</span></code>.
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">sym</span><span class="special">.</span><span class="identifier">add</span><span class="special">(</span><span class="identifier">s1</span><span class="special">)(</span><span class="identifier">s2</span><span class="special">)...(</span><span class="identifier">sN</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Adds one or more symbols (<code class="computeroutput"><span class="identifier">s1</span></code>...<code class="computeroutput"><span class="identifier">sN</span></code>) to <code class="computeroutput"><span class="identifier">sym</span></code>.
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">sym</span><span class="special">.</span><span class="identifier">add</span><span class="special">(</span><span class="identifier">s1</span><span class="special">,</span>
                    <span class="identifier">d1</span><span class="special">)(</span><span class="identifier">s2</span><span class="special">,</span>
                    <span class="identifier">d2</span><span class="special">)...(</span><span class="identifier">sN</span><span class="special">,</span>
                    <span class="identifier">dN</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Adds one or more symbols (<code class="computeroutput"><span class="identifier">s1</span></code>...<code class="computeroutput"><span class="identifier">sN</span></code>) with associated data (<code class="computeroutput"><span class="identifier">d1</span></code>...<code class="computeroutput"><span class="identifier">dN</span></code>)
                    to <code class="computeroutput"><span class="identifier">sym</span></code>.
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">sym</span> <span class="special">-=</span>
                    <span class="identifier">s1</span><span class="special">,</span>
                    <span class="identifier">s2</span><span class="special">,...</span>
                    <span class="identifier">sN</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Remove one or more symbols (<code class="computeroutput"><span class="identifier">s1</span></code>...<code class="computeroutput"><span class="identifier">sN</span></code>) from <code class="computeroutput"><span class="identifier">sym</span></code>.
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">sym</span><span class="special">.</span><span class="identifier">remove</span><span class="special">(</span><span class="identifier">s1</span><span class="special">)(</span><span class="identifier">s2</span><span class="special">)...(</span><span class="identifier">sN</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Remove one or more symbols (<code class="computeroutput"><span class="identifier">s1</span></code>...<code class="computeroutput"><span class="identifier">sN</span></code>) from <code class="computeroutput"><span class="identifier">sym</span></code>.
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">sym</span><span class="special">.</span><span class="identifier">clear</span><span class="special">()</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Erase all of the symbols in <code class="computeroutput"><span class="identifier">sym</span></code>.
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">sym</span><span class="special">.</span><span class="identifier">at</span><span class="special">(</span><span class="identifier">s</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Returns a reference to the object associated with symbol, <code class="computeroutput"><span class="identifier">s</span></code>. If <code class="computeroutput"><span class="identifier">sym</span></code>
                    does not already contain such an object, <code class="computeroutput"><span class="identifier">at</span></code>
                    inserts the default object <code class="computeroutput"><span class="identifier">T</span><span class="special">()</span></code>.
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">sym</span><span class="special">.</span><span class="identifier">find</span><span class="special">(</span><span class="identifier">s</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Returns a pointer to the object associated with symbol, <code class="computeroutput"><span class="identifier">s</span></code>. If <code class="computeroutput"><span class="identifier">sym</span></code>
                    does not already contain such an object, <code class="computeroutput"><span class="identifier">find</span></code>
                    returns a null pointer.
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">sym</span><span class="special">.</span><span class="identifier">for_each</span><span class="special">(</span><span class="identifier">f</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    For each symbol in <code class="computeroutput"><span class="identifier">sym</span></code>,
                    <code class="computeroutput"><span class="identifier">s</span></code>, a <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">basic_string</span><span class="special">&lt;</span><span class="identifier">Char</span><span class="special">&gt;</span></code>
                    with associated data, <code class="computeroutput"><span class="identifier">d</span></code>,
                    an object of type <code class="computeroutput"><span class="identifier">T</span></code>,
                    invoke <code class="computeroutput"><span class="identifier">f</span><span class="special">(</span><span class="identifier">s</span><span class="special">,</span>
                    <span class="identifier">d</span><span class="special">)</span></code>.
                  </p>
                  </td>
</tr>
</tbody>
</table></div>
<a name="spirit.qi.reference.string.symbols.attributes"></a><h6>
<a name="id1179340"></a>
            <a class="link" href="symbols.html#spirit.qi.reference.string.symbols.attributes">Attributes</a>
          </h6>
<p>
            The attribute of <code class="computeroutput"><span class="identifier">symbol</span><span class="special">&lt;</span><span class="identifier">Char</span><span class="special">,</span> <span class="identifier">T</span><span class="special">&gt;</span></code> is <code class="computeroutput"><span class="identifier">T</span></code>.
          </p>
<a name="spirit.qi.reference.string.symbols.example"></a><h6>
<a name="id1179391"></a>
            <a class="link" href="symbols.html#spirit.qi.reference.string.symbols.example">Example</a>
          </h6>
<p>
            Some includes:
          </p>
<p>
            </p>
<p>
              
</p>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">spirit</span><span class="special">/</span><span class="identifier">include</span><span class="special">/</span><span class="identifier">qi</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">spirit</span><span class="special">/</span><span class="identifier">include</span><span class="special">/</span><span class="identifier">phoenix_core</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">spirit</span><span class="special">/</span><span class="identifier">include</span><span class="special">/</span><span class="identifier">phoenix_operator</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">iostream</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">string</span><span class="special">&gt;</span>
</pre>
<p>
            </p>
<p>
          </p>
<p>
            Our test function:
          </p>
<p>
            </p>
<p>
              
</p>
<pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">P</span><span class="special">,</span> <span class="keyword">typename</span> <span class="identifier">T</span><span class="special">&gt;</span>
<span class="keyword">void</span> <span class="identifier">test_parser_attr</span><span class="special">(</span><span class="keyword">char</span> <span class="keyword">const</span><span class="special">*</span> <span class="identifier">input</span><span class="special">,</span> <span class="identifier">P</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">p</span><span class="special">,</span> <span class="identifier">T</span><span class="special">&amp;</span> <span class="identifier">attr</span><span class="special">)</span>
<span class="special">{</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span> <span class="identifier">s</span><span class="special">(</span><span class="identifier">input</span><span class="special">);</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">::</span><span class="identifier">iterator</span> <span class="identifier">f</span><span class="special">(</span><span class="identifier">s</span><span class="special">.</span><span class="identifier">begin</span><span class="special">());</span>
    <span class="keyword">if</span> <span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">spirit</span><span class="special">::</span><span class="identifier">qi</span><span class="special">::</span><span class="identifier">parse</span><span class="special">(</span><span class="identifier">f</span><span class="special">,</span> <span class="identifier">s</span><span class="special">.</span><span class="identifier">end</span><span class="special">(),</span> <span class="identifier">p</span><span class="special">,</span> <span class="identifier">attr</span><span class="special">))</span>
        <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"ok"</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
    <span class="keyword">else</span>
        <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"fail"</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
<span class="special">}</span>
</pre>
<p>
            </p>
<p>
          </p>
<p>
            Some using declarations:
          </p>
<p>
            </p>
<p>
              
</p>
<pre class="programlisting"><span class="keyword">using</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">spirit</span><span class="special">::</span><span class="identifier">qi</span><span class="special">::</span><span class="identifier">parse</span><span class="special">;</span>
<span class="keyword">using</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">spirit</span><span class="special">::</span><span class="identifier">qi</span><span class="special">::</span><span class="identifier">symbols</span><span class="special">;</span>
<span class="keyword">using</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">spirit</span><span class="special">::</span><span class="identifier">ascii</span><span class="special">::</span><span class="identifier">no_case</span><span class="special">;</span>
</pre>
<p>
            </p>
<p>
          </p>
<p>
            Symbols with data:
          </p>
<p>
            </p>
<p>
              
</p>
<pre class="programlisting"><span class="identifier">symbols</span><span class="special">&lt;</span><span class="keyword">char</span><span class="special">,</span> <span class="keyword">int</span><span class="special">&gt;</span> <span class="identifier">sym</span><span class="special">;</span>

<span class="identifier">sym</span><span class="special">.</span><span class="identifier">add</span>
    <span class="special">(</span><span class="string">"Apple"</span><span class="special">,</span> <span class="number">1</span><span class="special">)</span>
    <span class="special">(</span><span class="string">"Banana"</span><span class="special">,</span> <span class="number">2</span><span class="special">)</span>
    <span class="special">(</span><span class="string">"Orange"</span><span class="special">,</span> <span class="number">3</span><span class="special">)</span>
<span class="special">;</span>

<span class="keyword">int</span> <span class="identifier">i</span><span class="special">;</span>
<span class="identifier">test_parser_attr</span><span class="special">(</span><span class="string">"Banana"</span><span class="special">,</span> <span class="identifier">sym</span><span class="special">,</span> <span class="identifier">i</span><span class="special">);</span>
<span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="identifier">i</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
</pre>
<p>
            </p>
<p>
          </p>
<p>
            When symbols is used for case-insensitive parsing (in a <a class="link" href="../directive/no_case.html" title="no_case"><code class="computeroutput"><span class="identifier">no_case</span><span class="special">[</span><span class="identifier">a</span><span class="special">]</span></code></a>
            directive), added symbol strings should be in lowercase. Symbol strings
            containing one or more uppercase characters will not match any input
            when symbols is used in a <code class="computeroutput"><span class="identifier">no_case</span></code>
            directive.
          </p>
<p>
            </p>
<p>
              
</p>
<pre class="programlisting"><span class="identifier">symbols</span><span class="special">&lt;</span><span class="keyword">char</span><span class="special">,</span> <span class="keyword">int</span><span class="special">&gt;</span> <span class="identifier">sym</span><span class="special">;</span>

<span class="identifier">sym</span><span class="special">.</span><span class="identifier">add</span>
    <span class="special">(</span><span class="string">"apple"</span><span class="special">,</span> <span class="number">1</span><span class="special">)</span>    <span class="comment">// symbol strings are added in lowercase...
</span>    <span class="special">(</span><span class="string">"banana"</span><span class="special">,</span> <span class="number">2</span><span class="special">)</span>
    <span class="special">(</span><span class="string">"orange"</span><span class="special">,</span> <span class="number">3</span><span class="special">)</span>
<span class="special">;</span>

<span class="keyword">int</span> <span class="identifier">i</span><span class="special">;</span>
<span class="comment">// ...because sym is used for case-insensitive parsing
</span><span class="identifier">test_parser_attr</span><span class="special">(</span><span class="string">"Apple"</span><span class="special">,</span> <span class="identifier">no_case</span><span class="special">[</span> <span class="identifier">sym</span> <span class="special">],</span> <span class="identifier">i</span><span class="special">);</span>
<span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="identifier">i</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
<span class="identifier">test_parser_attr</span><span class="special">(</span><span class="string">"ORANGE"</span><span class="special">,</span> <span class="identifier">no_case</span><span class="special">[</span> <span class="identifier">sym</span> <span class="special">],</span> <span class="identifier">i</span><span class="special">);</span>
<span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="identifier">i</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
</pre>
<p>
            </p>
<p>
          </p>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright © 2001-2009 Joel
      de Guzman, Hartmut Kaiser<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="lit_string.html"><img src="../../../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../string.html"><img src="../../../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../../../index.html"><img src="../../../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="../../../karma.html"><img src="../../../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body>
</html>
