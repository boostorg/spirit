<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Character Generators</title>
<link rel="stylesheet" href="../../../../../../../../doc/html/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.0">
<link rel="home" href="../../../../index.html" title="Spirit 2.1">
<link rel="up" href="../char.html" title="Char">
<link rel="prev" href="../char.html" title="Char">
<link rel="next" href="char_class.html" title="Character Class Generators">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../../../libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../char.html"><img src="../../../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../char.html"><img src="../../../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../../../index.html"><img src="../../../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="char_class.html"><img src="../../../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="section" title="Character Generators">
<div class="titlepage"><div><div><h5 class="title">
<a name="spirit.karma.reference.char.char_generator"></a><a class="link" href="char_generator.html" title="Character Generators"> Character
          Generators</a>
</h5></div></div></div>
<a name="spirit.karma.reference.char.char_generator.description"></a><h6>
<a name="id1213513"></a>
            <a class="link" href="char_generator.html#spirit.karma.reference.char.char_generator.description">Description</a>
          </h6>
<p>
            The character generators described in this section are:
          </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                  <p>
                    Expression
                  </p>
                  </th>
<th>
                  <p>
                    Description
                  </p>
                  </th>
</tr></thead>
<tbody>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">ch</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Generates <code class="computeroutput"><span class="identifier">ch</span></code>
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">lit</span><span class="special">(</span><span class="identifier">ch</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Generates <code class="computeroutput"><span class="identifier">ch</span></code>,
                    same as <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">spirit</span><span class="special">::</span><span class="identifier">lit</span></code>
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Generates the mandatory attribute as a single character interpreted
                    in the character set defined by <code class="computeroutput"><span class="identifier">ns</span></code>
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">ch</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Generates <code class="computeroutput"><span class="identifier">ch</span></code>
                    as a character interpreted in the character set defined by <code class="computeroutput"><span class="identifier">ns</span></code>, if an attribute is supplied
                    it must match
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="string">"c"</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Generates <code class="computeroutput"><span class="identifier">c</span></code> as
                    a character interpreted in the character set defined by <code class="computeroutput"><span class="identifier">ns</span></code>, if an attribute is supplied
                    it must match, equivalent to <code class="computeroutput"><span class="identifier">char_</span><span class="special">(</span><span class="char">'c'</span><span class="special">)</span></code>
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">ch1</span><span class="special">,</span>
                    <span class="identifier">ch2</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Generates the character supplied as the attribute if it belongs
                    to the character range interpreted in the character set defined
                    by <code class="computeroutput"><span class="identifier">ns</span></code>
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">charset</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Generates the character supplied as the attribute if it belongs
                    to <code class="computeroutput"><span class="identifier">charset</span></code> interpreted
                    in the character set defined by <code class="computeroutput"><span class="identifier">ns</span></code>
                  </p>
                  </td>
</tr>
</tbody>
</table></div>
<p>
            In the table above, <code class="computeroutput"><span class="identifier">ns</span></code>
            is a <a class="link" href="../karma_basics.html#spirit.karma.reference.karma_basics.character_encoding_namespace">Character
            Encoding Namespace</a> used by the corresponding character generator.
          </p>
<a name="spirit.karma.reference.char.char_generator.header"></a><h6>
<a name="id1213959"></a>
            <a class="link" href="char_generator.html#spirit.karma.reference.char.char_generator.header">Header</a>
          </h6>
<pre class="programlisting"><span class="comment">// forwards to &lt;boost/spirit/home/karma/char/char.hpp&gt;
</span><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">spirit</span><span class="special">/</span><span class="identifier">include</span><span class="special">/</span><span class="identifier">karma_char_</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
</pre>
<p>
            Also, see <a class="link" href="../../../structure/include.html" title="Include">Include Structure</a>.
          </p>
<a name="spirit.karma.reference.char.char_generator.model_of"></a><h6>
<a name="id1214033"></a>
            <a class="link" href="char_generator.html#spirit.karma.reference.char.char_generator.model_of">Model
            of</a>
          </h6>
<div class="blockquote"><blockquote class="blockquote">
<p>
              </p>
<p>
                <a class="link" href="../generator_concepts/primitivegenerator.html" title="PrimitiveGenerator"><code class="computeroutput"><span class="identifier">PrimitiveGenerator</span></code></a>
              </p>
<p>
            </p>
</blockquote></div>
<div class="variablelist" title="Notation">
<p class="title"><b>Notation</b></p>
<dl>
<dt><span class="term"><code class="computeroutput"><span class="identifier">ch</span></code>,
            <code class="computeroutput"><span class="identifier">ch1</span></code>, <code class="computeroutput"><span class="identifier">ch2</span></code></span></dt>
<dd><p>
                Character-class specific character (See Character Class Types), or
                a <a class="link" href="../karma_basics.html#spirit.karma.reference.karma_basics.lazy_argument">Lazy
                Argument</a> that evaluates to a character-class specific character
                value
              </p></dd>
<dt><span class="term"><code class="computeroutput"><span class="identifier">charset</span></code></span></dt>
<dd><p>
                Character-set specifier string (See Character Class Types), or a
                <a class="link" href="../karma_basics.html#spirit.karma.reference.karma_basics.lazy_argument">Lazy
                Argument</a> that evaluates to a character-set specifier string,
                or a pointer/reference to a null-terminated array of characters.
              </p></dd>
<dt><span class="term"><code class="computeroutput"><span class="identifier">ns</span></code></span></dt>
<dd><p>
                A <a class="link" href="../../../qi/reference/basics.html#spirit.qi.reference.basics.character_encoding_namespace">Character
                Encoding Namespace</a>.
              </p></dd>
</dl>
</div>
<a name="spirit.karma.reference.char.char_generator.expression_semantics"></a><h6>
<a name="id1214161"></a>
            <a class="link" href="char_generator.html#spirit.karma.reference.char.char_generator.expression_semantics">Expression
            Semantics</a>
          </h6>
<p>
            Semantics of an expression is defined only where it differs from, or
            is not defined in <a class="link" href="../generator_concepts/primitivegenerator.html" title="PrimitiveGenerator"><code class="computeroutput"><span class="identifier">PrimitiveGenerator</span></code></a>.
          </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                  <p>
                    Expression
                  </p>
                  </th>
<th>
                  <p>
                    Description
                  </p>
                  </th>
</tr></thead>
<tbody>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">ch</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Generate the character literal <code class="computeroutput"><span class="identifier">ch</span></code>.
                    This generator never fails (except if the underlying output stream
                    reports an error).
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">lit</span><span class="special">(</span><span class="identifier">ch</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Generate the character literal <code class="computeroutput"><span class="identifier">ch</span></code>.
                    This generator never fails (except if the underlying output stream
                    reports an error).
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Generate the character provided by a mandatory attribute interpreted
                    in the character set defined by <code class="computeroutput"><span class="identifier">ns</span></code>.
                    This generator never fails (except if the underlying output stream
                    reports an error).
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">ch</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Generate the character <code class="computeroutput"><span class="identifier">ch</span></code>
                    as provided by the immediate literal value the generator is initialized
                    from. If this generator has an associated attribute it succeeds
                    only as long as the attribute is equal to the immediate literal
                    (except if the underlying output stream reports an error). Otherwise
                    this generator fails and does not generate any output.
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="string">"c"</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Generate the character <code class="computeroutput"><span class="identifier">c</span></code>
                    as provided by the immediate literal value the generator is initialized
                    from. If this generator has an associated attribute it succeeds
                    only as long as the attribute is equal to the immediate literal
                    (except if the underlying output stream reports an error). Otherwise
                    this generator fails and does not generate any output.
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">ch1</span><span class="special">,</span>
                    <span class="identifier">ch2</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Generate the character provided by a mandatory attribute interpreted
                    in the character set defined by <code class="computeroutput"><span class="identifier">ns</span></code>.
                    The generator succeeds as long as the attribute belongs to the
                    character range <code class="computeroutput"><span class="special">[</span><span class="identifier">ch1</span><span class="special">,</span>
                    <span class="identifier">ch2</span><span class="special">]</span></code>
                    (except if the underlying output stream reports an error). Otherwise
                    this generator fails and does not generate any output.
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">charset</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    Generate the character provided by a mandatory attribute interpreted
                    in the character set defined by <code class="computeroutput"><span class="identifier">ns</span></code>.
                    The generator succeeds as long as the attribute belongs to the
                    character set <code class="computeroutput"><span class="identifier">charset</span></code>
                    (except if the underlying output stream reports an error). Otherwise
                    this generator fails and does not generate any output.
                  </p>
                  </td>
</tr>
</tbody>
</table></div>
<p>
            A character <code class="computeroutput"><span class="identifier">ch</span></code> is assumed
            to belong to the character range defined by <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">ch1</span><span class="special">,</span> <span class="identifier">ch2</span><span class="special">)</span></code> if its character value (binary representation)
            interpreted in the character set defined by <code class="computeroutput"><span class="identifier">ns</span></code>
            is not smaller than the character value of <code class="computeroutput"><span class="identifier">ch1</span></code>
            and not larger then the character value of <code class="computeroutput"><span class="identifier">ch2</span></code>
            (i.e. <code class="computeroutput"><span class="identifier">ch1</span> <span class="special">&lt;=</span>
            <span class="identifier">ch</span> <span class="special">&lt;=</span>
            <span class="identifier">ch2</span></code>).
          </p>
<p>
            The <code class="computeroutput"><span class="identifier">charset</span></code> parameter
            passed to <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">charset</span><span class="special">)</span></code>
            must be a string containing more than one character. Every single character
            in this string is assumed to belong to the character set defined by this
            expression. An exception to this is the <code class="computeroutput"><span class="char">'-'</span></code>
            character which has a special meaning if it is not specified as the first
            and not the last character in <code class="computeroutput"><span class="identifier">charset</span></code>.
            If the <code class="computeroutput"><span class="char">'-'</span></code> is used in between
            to characters it is interpreted as spanning a character range. A character
            <code class="computeroutput"><span class="identifier">ch</span></code> is considered to belong
            to the defined character set <code class="computeroutput"><span class="identifier">charset</span></code>
            if it matches one of the characters as specified by the string parameter
            described above. For example
          </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                  <p>
                    Example
                  </p>
                  </th>
<th>
                  <p>
                    Description
                  </p>
                  </th>
</tr></thead>
<tbody>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">char_</span><span class="special">(</span><span class="string">"abc"</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    'a', 'b', and 'c'
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">char_</span><span class="special">(</span><span class="string">"a-z"</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    all characters (and including) from 'a' to 'z'
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">char_</span><span class="special">(</span><span class="string">"a-zA-Z"</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    all characters (and including) from 'a' to 'z' and 'A' and 'Z'
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">char_</span><span class="special">(</span><span class="string">"-1-9"</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    '-' and all characters (and including) from '1' to '9'
                  </p>
                  </td>
</tr>
</tbody>
</table></div>
<a name="spirit.karma.reference.char.char_generator.attributes"></a><h6>
<a name="id1214914"></a>
            <a class="link" href="char_generator.html#spirit.karma.reference.char.char_generator.attributes">Attributes</a>
          </h6>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                  <p>
                    Expression
                  </p>
                  </th>
<th>
                  <p>
                    Attribute
                  </p>
                  </th>
</tr></thead>
<tbody>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">ch</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">unused</span></code>
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">lit</span><span class="special">(</span><span class="identifier">ch</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">unused</span></code>
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">Ch</span></code>, attribute
                    is mandatory (otherwise compilation will fail)
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">ch</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">Ch</span></code>, attribute
                    is optional, if it is supplied, the generator compares the attribute
                    with <code class="computeroutput"><span class="identifier">ch</span></code> and succeeds
                    only if both are equal, failing otherwise
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="string">"c"</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">Ch</span></code>, attribute
                    is optional, if it is supplied, the generator compares the attribute
                    with <code class="computeroutput"><span class="identifier">c</span></code> and succeeds
                    only if both are equal, failing otherwise
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">ch1</span><span class="special">,</span>
                    <span class="identifier">ch2</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">Ch</span></code>, attribute
                    is mandatory (otherwise compilation will fail), the generator
                    succeeds if the attribute belongs to the character range <code class="computeroutput"><span class="special">[</span><span class="identifier">ch1</span><span class="special">,</span> <span class="identifier">ch2</span><span class="special">]</span></code> interpreted in the character
                    set defined by <code class="computeroutput"><span class="identifier">ns</span></code>
                  </p>
                  </td>
</tr>
<tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">charset</span><span class="special">)</span></code>
                  </p>
                  </td>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">Ch</span></code>, attribute
                    is mandatory (otherwise compilation will fail), the generator
                    succeeds if the attribute belongs to the character set <code class="computeroutput"><span class="identifier">charset</span></code>, interpreted in the
                    character set defined by <code class="computeroutput"><span class="identifier">ns</span></code>
                  </p>
                  </td>
</tr>
</tbody>
</table></div>
<a name="spirit.karma.reference.char.char_generator.complexity"></a><h6>
<a name="id1216461"></a>
            <a class="link" href="char_generator.html#spirit.karma.reference.char.char_generator.complexity">Complexity</a>
          </h6>
<div class="blockquote"><blockquote class="blockquote">
<p>
              </p>
<p>
                O(1)
              </p>
<p>
            </p>
</blockquote></div>
<p>
            The complexity of <code class="computeroutput"><span class="identifier">ch</span></code>,
            <code class="computeroutput"><span class="identifier">lit</span><span class="special">(</span><span class="identifier">ch</span><span class="special">)</span></code>,
            <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span></code>, <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">ch</span><span class="special">)</span></code>, and <code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="string">"c"</span><span class="special">)</span></code> is constant as all generators emit exactly
            one character per invocation.
          </p>
<p>
            The character range generator (<code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">ch1</span><span class="special">,</span> <span class="identifier">ch2</span><span class="special">)</span></code>) additionally requires constant lookup
            time for the verification whether the attribute belongs to the character
            range.
          </p>
<p>
            The character set generator (<code class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">charset</span><span class="special">)</span></code>) additionally requires O(log N) lookup
            time for the verification whether the attribute belongs to the character
            set, where N is the number of characters in the character set.
          </p>
<a name="spirit.karma.reference.char.char_generator.example"></a><h6>
<a name="id1216645"></a>
            <a class="link" href="char_generator.html#spirit.karma.reference.char.char_generator.example">Example</a>
          </h6>
<p>
            Some includes:
          </p>
<p>
            </p>
<p>
              
</p>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">spirit</span><span class="special">/</span><span class="identifier">include</span><span class="special">/</span><span class="identifier">karma</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">spirit</span><span class="special">/</span><span class="identifier">include</span><span class="special">/</span><span class="identifier">phoenix_core</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">spirit</span><span class="special">/</span><span class="identifier">include</span><span class="special">/</span><span class="identifier">phoenix_operator</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">fusion</span><span class="special">/</span><span class="identifier">include</span><span class="special">/</span><span class="identifier">std_pair</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">iostream</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">string</span><span class="special">&gt;</span>
</pre>
<p>
            </p>
<p>
          </p>
<p>
            All code snippets below use these common test functions:
          </p>
<p>
            </p>
<p>
              
</p>
<pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">G</span><span class="special">&gt;</span>
<span class="keyword">void</span> <span class="identifier">test_generator</span><span class="special">(</span><span class="keyword">char</span> <span class="keyword">const</span><span class="special">*</span> <span class="identifier">expected</span><span class="special">,</span> <span class="identifier">G</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">g</span><span class="special">)</span>
<span class="special">{</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span> <span class="identifier">s</span><span class="special">;</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">back_insert_iterator</span><span class="special">&lt;</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">&gt;</span> <span class="identifier">out</span><span class="special">(</span><span class="identifier">s</span><span class="special">);</span>
    <span class="keyword">if</span> <span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">spirit</span><span class="special">::</span><span class="identifier">karma</span><span class="special">::</span><span class="identifier">generate</span><span class="special">(</span><span class="identifier">out</span><span class="special">,</span> <span class="identifier">g</span><span class="special">)</span> <span class="special">&amp;&amp;</span> <span class="identifier">str</span> <span class="special">==</span> <span class="identifier">expected</span><span class="special">)</span>
        <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"ok"</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
    <span class="keyword">else</span>
        <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"fail"</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
<span class="special">}</span>
</pre>
<p>
            </p>
<p>
            </p>
<p>
              
</p>
<pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">G</span><span class="special">,</span> <span class="keyword">typename</span> <span class="identifier">T</span><span class="special">&gt;</span>
<span class="keyword">void</span> <span class="identifier">test_generator_attr</span><span class="special">(</span><span class="keyword">char</span> <span class="keyword">const</span><span class="special">*</span> <span class="identifier">expected</span><span class="special">,</span> <span class="identifier">G</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">g</span><span class="special">,</span> <span class="identifier">T</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">attr</span><span class="special">)</span>
<span class="special">{</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span> <span class="identifier">s</span><span class="special">;</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">back_insert_iterator</span><span class="special">&lt;</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">&gt;</span> <span class="identifier">out</span><span class="special">(</span><span class="identifier">s</span><span class="special">);</span>
    <span class="keyword">if</span> <span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">spirit</span><span class="special">::</span><span class="identifier">karma</span><span class="special">::</span><span class="identifier">generate</span><span class="special">(</span><span class="identifier">out</span><span class="special">,</span> <span class="identifier">g</span><span class="special">,</span> <span class="identifier">attr</span><span class="special">)</span> <span class="special">&amp;&amp;</span> <span class="identifier">str</span> <span class="special">==</span> <span class="identifier">expected</span><span class="special">)</span>
        <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"ok"</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
    <span class="keyword">else</span>
        <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"fail"</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
<span class="special">}</span>
</pre>
<p>
            </p>
<p>
          </p>
<p>
            Some using declarations:
          </p>
<p>
            </p>
<p>
              
</p>
<pre class="programlisting"><span class="keyword">using</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">spirit</span><span class="special">::</span><span class="identifier">karma</span><span class="special">::</span><span class="identifier">generate</span><span class="special">;</span>
<span class="keyword">using</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">spirit</span><span class="special">::</span><span class="identifier">karma</span><span class="special">::</span><span class="identifier">lit</span><span class="special">;</span>
<span class="keyword">using</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">spirit</span><span class="special">::</span><span class="identifier">ascii</span><span class="special">::</span><span class="identifier">char_</span><span class="special">;</span>
</pre>
<p>
            </p>
<p>
          </p>
<p>
            Basic usage of <code class="computeroutput"><span class="identifier">char_</span></code>
            generators:
          </p>
<p>
            </p>
<p>
              
</p>
<pre class="programlisting"><span class="identifier">test_generator</span><span class="special">(</span><span class="string">"A"</span><span class="special">,</span> <span class="char">'A'</span><span class="special">);</span>
<span class="identifier">test_generator</span><span class="special">(</span><span class="string">"A"</span><span class="special">,</span> <span class="identifier">lit</span><span class="special">(</span><span class="char">'A'</span><span class="special">));</span>

<span class="identifier">test_generator_attr</span><span class="special">(</span><span class="string">"a"</span><span class="special">,</span> <span class="identifier">char_</span><span class="special">,</span> <span class="char">'a'</span><span class="special">);</span>
<span class="identifier">test_generator</span><span class="special">(</span><span class="string">"A"</span><span class="special">,</span> <span class="identifier">char_</span><span class="special">(</span><span class="char">'A'</span><span class="special">));</span>
<span class="identifier">test_generator_attr</span><span class="special">(</span><span class="string">"A"</span><span class="special">,</span> <span class="identifier">char_</span><span class="special">(</span><span class="char">'A'</span><span class="special">),</span> <span class="char">'A'</span><span class="special">);</span>
<span class="identifier">test_generator_attr</span><span class="special">(</span><span class="string">""</span><span class="special">,</span> <span class="identifier">char_</span><span class="special">(</span><span class="char">'A'</span><span class="special">),</span> <span class="char">'B'</span><span class="special">);</span>         <span class="comment">// fails (as 'A' != 'B')
</span>
<span class="identifier">test_generator_attr</span><span class="special">(</span><span class="string">"A"</span><span class="special">,</span> <span class="identifier">char_</span><span class="special">(</span><span class="char">'A'</span><span class="special">,</span> <span class="char">'Z'</span><span class="special">),</span> <span class="char">'A'</span><span class="special">);</span>
<span class="identifier">test_generator_attr</span><span class="special">(</span><span class="string">""</span><span class="special">,</span> <span class="identifier">char_</span><span class="special">(</span><span class="char">'A'</span><span class="special">,</span> <span class="char">'Z'</span><span class="special">),</span> <span class="char">'a'</span><span class="special">);</span>    <span class="comment">// fails (as 'a' does not belong to 'A'...'Z')
</span>
<span class="identifier">test_generator_attr</span><span class="special">(</span><span class="string">"k"</span><span class="special">,</span> <span class="identifier">char_</span><span class="special">(</span><span class="string">"a-z0-9"</span><span class="special">),</span> <span class="char">'k'</span><span class="special">);</span>
<span class="identifier">test_generator_attr</span><span class="special">(</span><span class="string">""</span><span class="special">,</span> <span class="identifier">char_</span><span class="special">(</span><span class="string">"a-z0-9"</span><span class="special">),</span> <span class="char">'A'</span><span class="special">);</span>    <span class="comment">// fails (as 'A' does not belong to "a-z0-9")
</span></pre>
<p>
            </p>
<p>
          </p>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright © 2001-2009 Joel
      de Guzman, Hartmut Kaiser<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../char.html"><img src="../../../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../char.html"><img src="../../../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../../../index.html"><img src="../../../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="char_class.html"><img src="../../../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body>
</html>
