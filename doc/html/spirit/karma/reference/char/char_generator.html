<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title> Character
          Generators</title>
<link rel="stylesheet" href="../../../../../../../../doc/html/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.65.1">
<link rel="home" href="../../../../index.html" title="Spirit 2.1">
<link rel="up" href="../char.html" title=" Char">
<link rel="previous" href="../char.html" title=" Char">
<link rel="next" href="char_class.html" title=" Character
          Class Generators">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../../../libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../char.html"><img src="../../../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../char.html"><img src="../../../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../../../index.html"><img src="../../../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="char_class.html"><img src="../../../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="section" lang="en">
<div class="titlepage">
<div><div><h5 class="title">
<a name="spirit.karma.reference.char.char_generator"></a><a href="char_generator.html" title=" Character
          Generators"> Character
          Generators</a>
</h5></div></div>
<div></div>
</div>
<a name="spirit.karma.reference.char.char_generator.description"></a><h6>
<a name="id499447"></a>
            <a href="char_generator.html#spirit.karma.reference.char.char_generator.description">Description</a>
          </h6>
<p>
            The character generators described in this section are:
          </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th><p>
                    Expression
                  </p></th>
<th><p>
                    Description
                  </p></th>
</tr></thead>
<tbody>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">ch</span></tt>
                  </p></td>
<td><p>
                    Generates <tt class="computeroutput"><span class="identifier">ch</span></tt>
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">lit</span><span class="special">(</span><span class="identifier">ch</span><span class="special">)</span></tt>
                  </p></td>
<td><p>
                    Generates <tt class="computeroutput"><span class="identifier">ch</span></tt>,
                    same as <tt class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">spirit</span><span class="special">::</span><span class="identifier">karma</span><span class="special">::</span><span class="identifier">lit</span></tt>
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span></tt>
                  </p></td>
<td><p>
                    Generates the mandatory attribute as a single character interpreted
                    in the character set defined by <tt class="computeroutput"><span class="identifier">ns</span></tt>
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">ch</span><span class="special">)</span></tt>
                  </p></td>
<td><p>
                    Generates <tt class="computeroutput"><span class="identifier">ch</span></tt>
                    as a character interpreted in the character set defined by <tt class="computeroutput"><span class="identifier">ns</span></tt>, if an attribute is supplied
                    it must match
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="string">"c"</span><span class="special">)</span></tt>
                  </p></td>
<td><p>
                    Generates <tt class="computeroutput"><span class="identifier">c</span></tt> as
                    a character interpreted in the character set defined by <tt class="computeroutput"><span class="identifier">ns</span></tt>, if an attribute is supplied
                    it must match, equivalent to <tt class="computeroutput"><span class="identifier">char_</span><span class="special">(</span><span class="char">'c'</span><span class="special">)</span></tt>
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">ch1</span><span class="special">,</span>
                    <span class="identifier">ch2</span><span class="special">)</span></tt>
                  </p></td>
<td><p>
                    Generates the character supplied as the attribute if it belongs
                    to the character range interpreted in the character set defined
                    by <tt class="computeroutput"><span class="identifier">ns</span></tt>
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">charset</span><span class="special">)</span></tt>
                  </p></td>
<td><p>
                    Generates the character supplied as the attribute if it belongs
                    to <tt class="computeroutput"><span class="identifier">charset</span></tt> interpreted
                    in the character set defined by <tt class="computeroutput"><span class="identifier">ns</span></tt>
                  </p></td>
</tr>
</tbody>
</table></div>
<p>
            In the table above, <tt class="computeroutput"><span class="identifier">ns</span></tt>
            is a <a href="../karma_basics.html#spirit.karma.reference.karma_basics.character_encoding_namespace">Character
            Encoding Namespace</a> used by the corresponding character generator.
          </p>
<a name="spirit.karma.reference.char.char_generator.header"></a><h6>
<a name="id500070"></a>
            <a href="char_generator.html#spirit.karma.reference.char.char_generator.header">Header</a>
          </h6>
<pre class="programlisting"><span class="comment">// forwards to &lt;boost/spirit/home/karma/char/char.hpp&gt;
</span><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">spirit</span><span class="special">/</span><span class="identifier">include</span><span class="special">/</span><span class="identifier">karma_char_</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
</pre>
<p>
            Also, see <a href="../../../structure/include.html" title="Include">Include Structure</a>.
          </p>
<a name="spirit.karma.reference.char.char_generator.model_of"></a><h6>
<a name="id500185"></a>
            <a href="char_generator.html#spirit.karma.reference.char.char_generator.model_of">Model
            of</a>
          </h6>
<div class="blockquote"><blockquote class="blockquote">
<p>
              </p>
<p>
                <a href="../generator_concepts/primitivegenerator.html" title="PrimitiveGenerator"><tt class="computeroutput"><span class="identifier">PrimitiveGenerator</span></tt></a>
              </p>
<p>
            </p>
</blockquote></div>
<div class="variablelist">
<p class="title"><b>Notation</b></p>
<dl>
<dt><span class="term"><tt class="computeroutput"><span class="identifier">ch</span></tt>,
            <tt class="computeroutput"><span class="identifier">ch1</span></tt>, <tt class="computeroutput"><span class="identifier">ch2</span></tt></span></dt>
<dd><p>
                Character-class specific character (See Character Class Types), or
                a <a href="../karma_basics.html#spirit.karma.reference.karma_basics.lazy_argument">Lazy
                Argument</a> that evaluates to a character-class specific character
                value
              </p></dd>
<dt><span class="term"><tt class="computeroutput"><span class="identifier">charset</span></tt></span></dt>
<dd><p>
                Character-set specifier string (See Character Class Types), or a
                <a href="../karma_basics.html#spirit.karma.reference.karma_basics.lazy_argument">Lazy
                Argument</a> that evaluates to a character-set specifier string,
                or a pointer/reference to a null-terminated array of characters.
              </p></dd>
<dt><span class="term"><tt class="computeroutput"><span class="identifier">ns</span></tt></span></dt>
<dd><p>
                A <a href="../../../qi/reference/basics.html#spirit.qi.reference.basics.character_encoding_namespace">Character
                Encoding Namespace</a>.
              </p></dd>
</dl>
</div>
<a name="spirit.karma.reference.char.char_generator.expression_semantics"></a><h6>
<a name="id500373"></a>
            <a href="char_generator.html#spirit.karma.reference.char.char_generator.expression_semantics">Expression
            Semantics</a>
          </h6>
<p>
            Semantics of an expression is defined only where it differs from, or
            is not defined in <a href="../generator_concepts/primitivegenerator.html" title="PrimitiveGenerator"><tt class="computeroutput"><span class="identifier">PrimitiveGenerator</span></tt></a>.
          </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th><p>
                    Expression
                  </p></th>
<th><p>
                    Description
                  </p></th>
</tr></thead>
<tbody>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">ch</span></tt>
                  </p></td>
<td><p>
                    Generate the character literal <tt class="computeroutput"><span class="identifier">ch</span></tt>.
                    This generator never fails (except if the underlying output stream
                    reports an error).
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">lit</span><span class="special">(</span><span class="identifier">ch</span><span class="special">)</span></tt>
                  </p></td>
<td><p>
                    Generate the character literal <tt class="computeroutput"><span class="identifier">ch</span></tt>.
                    This generator never fails (except if the underlying output stream
                    reports an error).
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span></tt>
                  </p></td>
<td><p>
                    Generate the character provided by a mandatory attribute interpreted
                    in the character set defined by <tt class="computeroutput"><span class="identifier">ns</span></tt>.
                    This generator never fails (except if the underlying output stream
                    reports an error).
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">ch</span><span class="special">)</span></tt>
                  </p></td>
<td><p>
                    Generate the character <tt class="computeroutput"><span class="identifier">ch</span></tt>
                    as provided by the immediate literal value the generator is initialized
                    from. If this generator has an associated attribute it succeeds
                    only as long as the attribute is equal to the immediate literal
                    (except if the underlying output stream reports an error). Otherwise
                    this generator fails and does not generate any output.
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="string">"c"</span><span class="special">)</span></tt>
                  </p></td>
<td><p>
                    Generate the character <tt class="computeroutput"><span class="identifier">c</span></tt>
                    as provided by the immediate literal value the generator is initialized
                    from. If this generator has an associated attribute it succeeds
                    only as long as the attribute is equal to the immediate literal
                    (except if the underlying output stream reports an error). Otherwise
                    this generator fails and does not generate any output.
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">ch1</span><span class="special">,</span>
                    <span class="identifier">ch2</span><span class="special">)</span></tt>
                  </p></td>
<td><p>
                    Generate the character provided by a mandatory attribute interpreted
                    in the character set defined by <tt class="computeroutput"><span class="identifier">ns</span></tt>.
                    The generator succeeds as long as the attribute belongs to the
                    character range <tt class="computeroutput"><span class="special">[</span><span class="identifier">ch1</span><span class="special">,</span>
                    <span class="identifier">ch2</span><span class="special">]</span></tt>
                    (except if the underlying output stream reports an error). Otherwise
                    this generator fails and does not generate any output.
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">charset</span><span class="special">)</span></tt>
                  </p></td>
<td><p>
                    Generate the character provided by a mandatory attribute interpreted
                    in the character set defined by <tt class="computeroutput"><span class="identifier">ns</span></tt>.
                    The generator succeeds as long as the attribute belongs to the
                    character set <tt class="computeroutput"><span class="identifier">charset</span></tt>
                    (except if the underlying output stream reports an error). Otherwise
                    this generator fails and does not generate any output.
                  </p></td>
</tr>
</tbody>
</table></div>
<p>
            A character <tt class="computeroutput"><span class="identifier">ch</span></tt> is assumed
            to belong to the character range defined by <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">ch1</span><span class="special">,</span> <span class="identifier">ch2</span><span class="special">)</span></tt> if its character value (binary representation)
            interpreted in the character set defined by <tt class="computeroutput"><span class="identifier">ns</span></tt>
            is not smaller than the character value of <tt class="computeroutput"><span class="identifier">ch1</span></tt>
            and not larger then the character value of <tt class="computeroutput"><span class="identifier">ch2</span></tt>
            (i.e. <tt class="computeroutput"><span class="identifier">ch1</span> <span class="special">&lt;=</span>
            <span class="identifier">ch</span> <span class="special">&lt;=</span>
            <span class="identifier">ch2</span></tt>).
          </p>
<p>
            The <tt class="computeroutput"><span class="identifier">charset</span></tt> parameter
            passed to <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">charset</span><span class="special">)</span></tt>
            must be a string containing more than one character. Every single character
            in this string is assumed to belong to the character set defined by this
            expression. An exception to this is the <tt class="computeroutput"><span class="char">'-'</span></tt>
            character which has a special meaning if it is not specified as the first
            and not the last character in <tt class="computeroutput"><span class="identifier">charset</span></tt>.
            If the <tt class="computeroutput"><span class="char">'-'</span></tt> is used in between
            to characters it is interpreted as spanning a character range. A character
            <tt class="computeroutput"><span class="identifier">ch</span></tt> is considered to belong
            to the defined character set <tt class="computeroutput"><span class="identifier">charset</span></tt>
            if it matches one of the characters as specified by the string parameter
            described above. For example
          </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th><p>
                    Example
                  </p></th>
<th><p>
                    Description
                  </p></th>
</tr></thead>
<tbody>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">char_</span><span class="special">(</span><span class="string">"abc"</span><span class="special">)</span></tt>
                  </p></td>
<td><p>
                    'a', 'b', and 'c'
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">char_</span><span class="special">(</span><span class="string">"a-z"</span><span class="special">)</span></tt>
                  </p></td>
<td><p>
                    all characters (and including) from 'a' to 'z'
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">char_</span><span class="special">(</span><span class="string">"a-zA-Z"</span><span class="special">)</span></tt>
                  </p></td>
<td><p>
                    all characters (and including) from 'a' to 'z' and 'A' and 'Z'
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">char_</span><span class="special">(</span><span class="string">"-1-9"</span><span class="special">)</span></tt>
                  </p></td>
<td><p>
                    '-' and all characters (and including) from '1' to '9'
                  </p></td>
</tr>
</tbody>
</table></div>
<a name="spirit.karma.reference.char.char_generator.attributes"></a><h6>
<a name="id501418"></a>
            <a href="char_generator.html#spirit.karma.reference.char.char_generator.attributes">Attributes</a>
          </h6>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th><p>
                    Expression
                  </p></th>
<th><p>
                    Attribute
                  </p></th>
</tr></thead>
<tbody>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">ch</span></tt>
                  </p></td>
<td><p>
                    <tt class="computeroutput"><span class="identifier">unused</span></tt>
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">lit</span><span class="special">(</span><span class="identifier">ch</span><span class="special">)</span></tt>
                  </p></td>
<td><p>
                    <tt class="computeroutput"><span class="identifier">unused</span></tt>
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span></tt>
                  </p></td>
<td><p>
                    <tt class="computeroutput"><span class="identifier">Ch</span></tt>, attribute
                    is mandatory (otherwise compilation will fail)
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">ch</span><span class="special">)</span></tt>
                  </p></td>
<td><p>
                    <tt class="computeroutput"><span class="identifier">Ch</span></tt>, attribute
                    is optional, if it is supplied, the generator compares the attribute
                    with <tt class="computeroutput"><span class="identifier">ch</span></tt> and succeeds
                    only if both are equal, failing otherwise
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="string">"c"</span><span class="special">)</span></tt>
                  </p></td>
<td><p>
                    <tt class="computeroutput"><span class="identifier">Ch</span></tt>, attribute
                    is optional, if it is supplied, the generator compares the attribute
                    with <tt class="computeroutput"><span class="identifier">c</span></tt> and succeeds
                    only if both are equal, failing otherwise
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">ch1</span><span class="special">,</span>
                    <span class="identifier">ch2</span><span class="special">)</span></tt>
                  </p></td>
<td><p>
                    <tt class="computeroutput"><span class="identifier">Ch</span></tt>, attribute
                    is mandatory (otherwise compilation will fail), the generator
                    succeeds if the attribute belongs to the character range <tt class="computeroutput"><span class="special">[</span><span class="identifier">ch1</span><span class="special">,</span> <span class="identifier">ch2</span><span class="special">]</span></tt> interpreted in the character
                    set defined by <tt class="computeroutput"><span class="identifier">ns</span></tt>
                  </p></td>
</tr>
<tr>
<td><p>
                    <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">charset</span><span class="special">)</span></tt>
                  </p></td>
<td><p>
                    <tt class="computeroutput"><span class="identifier">Ch</span></tt>, attribute
                    is mandatory (otherwise compilation will fail), the generator
                    succeeds if the attribute belongs to the character set <tt class="computeroutput"><span class="identifier">charset</span></tt>, interpreted in the
                    character set defined by <tt class="computeroutput"><span class="identifier">ns</span></tt>
                  </p></td>
</tr>
</tbody>
</table></div>
<a name="spirit.karma.reference.char.char_generator.complexity"></a><h6>
<a name="id501996"></a>
            <a href="char_generator.html#spirit.karma.reference.char.char_generator.complexity">Complexity</a>
          </h6>
<div class="blockquote"><blockquote class="blockquote">
<p>
              </p>
<p>
                O(1)
              </p>
<p>
            </p>
</blockquote></div>
<p>
            The complexity of <tt class="computeroutput"><span class="identifier">ch</span></tt>,
            <tt class="computeroutput"><span class="identifier">lit</span><span class="special">(</span><span class="identifier">ch</span><span class="special">)</span></tt>,
            <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span></tt>, <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">ch</span><span class="special">)</span></tt>, and <tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="string">"c"</span><span class="special">)</span></tt> is constant as all generators emit exactly
            one character per invocation.
          </p>
<p>
            The character range generator (<tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">ch1</span><span class="special">,</span> <span class="identifier">ch2</span><span class="special">)</span></tt>) additionally requires constant lookup
            time for the verification whether the attribute belongs to the character
            range.
          </p>
<p>
            The character set generator (<tt class="computeroutput"><span class="identifier">ns</span><span class="special">::</span><span class="identifier">char_</span><span class="special">(</span><span class="identifier">charset</span><span class="special">)</span></tt>) additionally requires O(log N) lookup
            time for the verification whether the attribute belongs to the character
            set, where N is the number of characters in the character set.
          </p>
<a name="spirit.karma.reference.char.char_generator.example"></a><h6>
<a name="id502266"></a>
            <a href="char_generator.html#spirit.karma.reference.char.char_generator.example">Example</a>
          </h6>
<p>
            Some includes:
          </p>
<p>
            </p>
<p>
              
</p>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">spirit</span><span class="special">/</span><span class="identifier">include</span><span class="special">/</span><span class="identifier">karma</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">spirit</span><span class="special">/</span><span class="identifier">include</span><span class="special">/</span><span class="identifier">phoenix_core</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">spirit</span><span class="special">/</span><span class="identifier">include</span><span class="special">/</span><span class="identifier">phoenix_operator</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">fusion</span><span class="special">/</span><span class="identifier">include</span><span class="special">/</span><span class="identifier">std_pair</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">iostream</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">string</span><span class="special">&gt;</span>
</pre>
<p>
            </p>
<p>
          </p>
<p>
            All code snippets below use these common test functions:
          </p>
<p>
            </p>
<p>
              
</p>
<pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">G</span><span class="special">&gt;</span>
<span class="keyword">void</span> <span class="identifier">test_generator</span><span class="special">(</span><span class="keyword">char</span> <span class="keyword">const</span><span class="special">*</span> <span class="identifier">expected</span><span class="special">,</span> <span class="identifier">G</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">g</span><span class="special">)</span>
<span class="special">{</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span> <span class="identifier">s</span><span class="special">;</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">back_insert_iterator</span><span class="special">&lt;</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">&gt;</span> <span class="identifier">out</span><span class="special">(</span><span class="identifier">s</span><span class="special">);</span>
    <span class="keyword">if</span> <span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">spirit</span><span class="special">::</span><span class="identifier">karma</span><span class="special">::</span><span class="identifier">generate</span><span class="special">(</span><span class="identifier">out</span><span class="special">,</span> <span class="identifier">g</span><span class="special">)</span> <span class="special">&amp;&amp;</span> <span class="identifier">str</span> <span class="special">==</span> <span class="identifier">expected</span><span class="special">)</span>
        <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"ok"</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
    <span class="keyword">else</span>
        <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"fail"</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
<span class="special">}</span>
</pre>
<p>
            </p>
<p>
            </p>
<p>
              
</p>
<pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">G</span><span class="special">,</span> <span class="keyword">typename</span> <span class="identifier">T</span><span class="special">&gt;</span>
<span class="keyword">void</span> <span class="identifier">test_generator_attr</span><span class="special">(</span><span class="keyword">char</span> <span class="keyword">const</span><span class="special">*</span> <span class="identifier">expected</span><span class="special">,</span> <span class="identifier">G</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">g</span><span class="special">,</span> <span class="identifier">T</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">attr</span><span class="special">)</span>
<span class="special">{</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span> <span class="identifier">s</span><span class="special">;</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">back_insert_iterator</span><span class="special">&lt;</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">&gt;</span> <span class="identifier">out</span><span class="special">(</span><span class="identifier">s</span><span class="special">);</span>
    <span class="keyword">if</span> <span class="special">(</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">spirit</span><span class="special">::</span><span class="identifier">karma</span><span class="special">::</span><span class="identifier">generate</span><span class="special">(</span><span class="identifier">out</span><span class="special">,</span> <span class="identifier">g</span><span class="special">,</span> <span class="identifier">attr</span><span class="special">)</span> <span class="special">&amp;&amp;</span> <span class="identifier">str</span> <span class="special">==</span> <span class="identifier">expected</span><span class="special">)</span>
        <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"ok"</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
    <span class="keyword">else</span>
        <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"fail"</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
<span class="special">}</span>
</pre>
<p>
            </p>
<p>
          </p>
<p>
            Some using declarations:
          </p>
<p>
            </p>
<p>
              
</p>
<pre class="programlisting"><span class="keyword">using</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">spirit</span><span class="special">::</span><span class="identifier">karma</span><span class="special">::</span><span class="identifier">generate</span><span class="special">;</span>
<span class="keyword">using</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">spirit</span><span class="special">::</span><span class="identifier">karma</span><span class="special">::</span><span class="identifier">lit</span><span class="special">;</span>
<span class="keyword">using</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">spirit</span><span class="special">::</span><span class="identifier">ascii</span><span class="special">::</span><span class="identifier">char_</span><span class="special">;</span>
</pre>
<p>
            </p>
<p>
          </p>
<p>
            Basic usage of <tt class="computeroutput"><span class="identifier">char_</span></tt>
            generators:
          </p>
<p>
            </p>
<p>
              
</p>
<pre class="programlisting"><span class="identifier">test_generator</span><span class="special">(</span><span class="string">"A"</span><span class="special">,</span> <span class="char">'A'</span><span class="special">);</span>
<span class="identifier">test_generator</span><span class="special">(</span><span class="string">"A"</span><span class="special">,</span> <span class="identifier">lit</span><span class="special">(</span><span class="char">'A'</span><span class="special">));</span>

<span class="identifier">test_generator_attr</span><span class="special">(</span><span class="string">"a"</span><span class="special">,</span> <span class="identifier">char_</span><span class="special">,</span> <span class="char">'a'</span><span class="special">);</span>
<span class="identifier">test_generator</span><span class="special">(</span><span class="string">"A"</span><span class="special">,</span> <span class="identifier">char_</span><span class="special">(</span><span class="char">'A'</span><span class="special">));</span>
<span class="identifier">test_generator_attr</span><span class="special">(</span><span class="string">"A"</span><span class="special">,</span> <span class="identifier">char_</span><span class="special">(</span><span class="char">'A'</span><span class="special">),</span> <span class="char">'A'</span><span class="special">);</span>
<span class="identifier">test_generator_attr</span><span class="special">(</span><span class="string">""</span><span class="special">,</span> <span class="identifier">char_</span><span class="special">(</span><span class="char">'A'</span><span class="special">),</span> <span class="char">'B'</span><span class="special">);</span>         <span class="comment">// fails (as 'A' != 'B')
</span>
<span class="identifier">test_generator_attr</span><span class="special">(</span><span class="string">"A"</span><span class="special">,</span> <span class="identifier">char_</span><span class="special">(</span><span class="char">'A'</span><span class="special">,</span> <span class="char">'Z'</span><span class="special">),</span> <span class="char">'A'</span><span class="special">);</span>
<span class="identifier">test_generator_attr</span><span class="special">(</span><span class="string">""</span><span class="special">,</span> <span class="identifier">char_</span><span class="special">(</span><span class="char">'A'</span><span class="special">,</span> <span class="char">'Z'</span><span class="special">),</span> <span class="char">'a'</span><span class="special">);</span>    <span class="comment">// fails (as 'a' does not belong to 'A'...'Z')
</span>
<span class="identifier">test_generator_attr</span><span class="special">(</span><span class="string">"k"</span><span class="special">,</span> <span class="identifier">char_</span><span class="special">(</span><span class="string">"a-z0-9"</span><span class="special">),</span> <span class="char">'k'</span><span class="special">);</span>
<span class="identifier">test_generator_attr</span><span class="special">(</span><span class="string">""</span><span class="special">,</span> <span class="identifier">char_</span><span class="special">(</span><span class="string">"a-z0-9"</span><span class="special">),</span> <span class="char">'A'</span><span class="special">);</span>    <span class="comment">// fails (as 'A' does not belong to "a-z0-9")
</span></pre>
<p>
            </p>
<p>
          </p>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright © 2001-2009 Joel
      de Guzman, Hartmut Kaiser<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../char.html"><img src="../../../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../char.html"><img src="../../../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../../../index.html"><img src="../../../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="char_class.html"><img src="../../../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body>
</html>
